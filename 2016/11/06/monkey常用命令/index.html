<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> monkey常用命令 · Hexo</title><meta name="description" content="monkey常用命令 - John Doe"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="Hexo"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/sunchongsheng" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/pinggod" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">monkey常用命令</h1><div class="post-info">Nov 6, 2016</div><div class="post-content"><p>####启动的命令行脚本：</p>
<ul>
<li>monkey [option] <count></count></li>
</ul>
<p>###options 可简单划分为五类：</p>
<ul>
<li>基本配置类参数</li>
<li>事件类型和频率参数</li>
<li>约束限制类参数</li>
<li>调试类参数</li>
<li>官方隐藏类参数</li>
</ul>
<a id="more"></a>
<p>####1.基本配置类参数</p>
<ul>
<li>–help 输出使用方法</li>
<li>-v  反馈信息的级别。Level 0 提供较少信息；level 1（-v-v）较为详细；level 2（-v-v-v）例如：adb shell monkey -v-v 10</li>
</ul>
<p>####2.事件类型和频率参数</p>
<ul>
<li>-s <seed> 伪随机数生成器的种子值（种子值自己刚开始不太理解，参考了一些网上的说法应该就是你定义一个随机数列的时候需要给出的一个基准值，根据你给出的这个值生成一个随机数列。）</seed></li>
<li>–throttle &lt;毫秒数&gt; 事件之间的固定延迟。</li>
<li>–pct-touch &lt;百分比&gt; 调整触摸事件的百分比</li>
<li>–pct-motion &lt;百分比&gt;  调整动作事件的百分比（屏幕上某处的一个down事件，一个伪随机事件和一个up事件组成）</li>
<li>–pct-pinchzoom &lt;百分比&gt; 调整二指缩放事件的百分比</li>
<li>–pct-trackball &lt;百分比&gt; 调整轨迹事件的百分比</li>
<li>–pct-rotation &lt;百分比&gt; 调整屏幕旋转事件的百分比</li>
<li>–pct-nav &lt;百分比&gt; 调整基本导航事件的百分比</li>
<li>–pct-majornav &lt;百分比&gt; 调整主要导航事件的百分比（引发图形界面的动作，如5-way键盘的中间按键、回退按键、菜单按键）（5-way 键盘百度了下没有什么太多的解释，大概就是手机的侧边的按键）</li>
<li>–pct-syskeys &lt;百分比&gt; 调整系统按键事件的百分比</li>
<li>–pct-appswitch &lt;百分比&gt; 调整启动activity的百分比</li>
<li><p>–pct-flip &lt;百分比&gt; 调整键盘事件的百分比</p>
</li>
<li><p>-p &lt;包名&gt; 指定包名</p>
</li>
<li>-c &lt;类别&gt; 指定类名</li>
</ul>
<p>####3.调试类参数</p>
<ul>
<li>–dbg-no-events 和-v、一个或几个包约束，保持运行monkey30秒或者更长时间的非零值联合起来。可以理解为debug</li>
<li>–hprof 将monkey事件执行之前和之后生成的文件快照文件存放于手机的data/misc目录。文件较大，慎用</li>
<li>–ignore-crashes 忽略奔溃继续执行</li>
<li>–ignore-timeouts 忽略超时</li>
<li>–ignore-security-exception 忽略程序许可错误（比如请求系统许可个什么什么权限失败了）</li>
<li>–kill-process-after-error 通知系统有出错的进程了，让系统停止这个进程</li>
<li>–monitor-native-crashes 监视并且报告本地代码的崩溃事件</li>
<li>–wait-dbg 停止执行中的monkey，直到有调试器连接</li>
</ul>
<p>####4.官方隐藏类参数</p>
<ul>
<li>–pkg-blacklist-file &lt;黑名单文件&gt; 不测试处于黑名单中记录的包（包名一行一个）</li>
<li>–pkg-whitelist-file &lt;白名单文件&gt; 只测试白名单之内的包</li>
<li>-f &lt;脚本文件&gt; 指定用户执行用户自定义的脚本文件</li>
</ul>
</div></article></div></section><footer><div class="paginator"><a href="/2016/11/04/adb常用命令/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2016 <a href="http://yoursite.com">John Doe</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>